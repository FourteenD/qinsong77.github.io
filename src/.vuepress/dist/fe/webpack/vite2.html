<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileColor" content="#333"><link rel="apple-touch-icon" href="/icons/128.ico"><title>Vite | Sysuke' NoteBook</title><meta name="description" content="personal frontend noteBook power by VuePress & GitHub Page">
    <link rel="modulepreload" href="/assets/app.552fc8bd.js"><link rel="modulepreload" href="/assets/vite2.html.8c3953a7.js"><link rel="modulepreload" href="/assets/vite2.html.280a51e2.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.d0e46110.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/icons/128.ico" alt="Sysuke&#39; NoteBook"><span class="site-name can-hide">Sysuke&#39; NoteBook</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/fe/js" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/react" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/css" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/dom" class="" aria-label="Dom"><!--[--><!--]--> Dom <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/webpack" class="router-link-active" aria-label="webpack"><!--[--><!--]--> webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/frameWork" class="" aria-label="frameWork"><!--[--><!--]--> frameWork <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/algorithm/" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/binaryTree" class="" aria-label="二叉树"><!--[--><!--]--> 二叉树 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/sort" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/leetcode" class="" aria-label="LeetCode"><!--[--><!--]--> LeetCode <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/dynamic" class="" aria-label="动态规划"><!--[--><!--]--> 动态规划 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/backTrack" class="" aria-label="回溯算法"><!--[--><!--]--> 回溯算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/interview" class="" aria-label="面试记录"><!--[--><!--]--> 面试记录 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/backEnd/node" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview/" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/demo" class="" aria-label="Demo"><!--[--><!--]--> Demo <!--[--><!--]--></a></div><div class="navbar-item"><a href="/resume" class="" aria-label="Resume"><!--[--><!--]--> Resume <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/qinsong77" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/qinsong77/qinsong77.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/fe/js" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/react" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/css" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/dom" class="" aria-label="Dom"><!--[--><!--]--> Dom <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/webpack" class="router-link-active" aria-label="webpack"><!--[--><!--]--> webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fe/frameWork" class="" aria-label="frameWork"><!--[--><!--]--> frameWork <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/algorithm/" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/binaryTree" class="" aria-label="二叉树"><!--[--><!--]--> 二叉树 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/sort" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/leetcode" class="" aria-label="LeetCode"><!--[--><!--]--> LeetCode <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/dynamic" class="" aria-label="动态规划"><!--[--><!--]--> 动态规划 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/backTrack" class="" aria-label="回溯算法"><!--[--><!--]--> 回溯算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/interview" class="" aria-label="面试记录"><!--[--><!--]--> 面试记录 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/backEnd/node" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview/" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/demo" class="" aria-label="Demo"><!--[--><!--]--> Demo <!--[--><!--]--></a></div><div class="navbar-item"><a href="/resume" class="" aria-label="Resume"><!--[--><!--]--> Resume <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/qinsong77" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/qinsong77/qinsong77.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">JavaScript <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fe/js/" class="sidebar-item" aria-label="LearnAndNoteList"><!--[--><!--]--> LearnAndNoteList <!--[--><!--]--></a><!----></li><li><a href="/fe/js/learn.html" class="sidebar-item" aria-label="学习笔记"><!--[--><!--]--> 学习笔记 <!--[--><!--]--></a><!----></li><li><a href="/fe/js/achieve.html" class="sidebar-item" aria-label="手写实现"><!--[--><!--]--> 手写实现 <!--[--><!--]--></a><!----></li><li><a href="/fe/js/prototype.html" class="sidebar-item" aria-label="原型、原型链、继承"><!--[--><!--]--> 原型、原型链、继承 <!--[--><!--]--></a><!----></li><li><a href="/fe/js/extend.html" class="sidebar-item" aria-label="继承"><!--[--><!--]--> 继承 <!--[--><!--]--></a><!----></li><li><a href="/fe/js/var_type.html" class="sidebar-item" aria-label="变量和类型"><!--[--><!--]--> 变量和类型 <!--[--><!--]--></a><!----></li><li><a href="/fe/js/type_conversion.html" class="sidebar-item" aria-label="类型转换"><!--[--><!--]--> 类型转换 <!--[--><!--]--></a><!----></li><li><a href="/fe/js/context_execution_stack_this.html" class="sidebar-item" aria-label="执行上下文、执行栈、this"><!--[--><!--]--> 执行上下文、执行栈、this <!--[--><!--]--></a><!----></li><li><a href="/fe/js/event_loop.html" class="sidebar-item" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a><!----></li><li><a href="/fe/js/alwaysNote.html" class="sidebar-item" aria-label="常用笔记"><!--[--><!--]--> 常用笔记 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Vue <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fe/vue/" class="sidebar-item" aria-label="原理"><!--[--><!--]--> 原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/vue/vuex.html" class="sidebar-item" aria-label="Vuex"><!--[--><!--]--> Vuex <!--[--><!--]--></a><!----></li><li><a href="/fe/vue/alwaysNote.html" class="sidebar-item" aria-label="常用笔记vue"><!--[--><!--]--> 常用笔记vue <!--[--><!--]--></a><!----></li><li><a href="/fe/vue/vue3.html" class="sidebar-item" aria-label="Vue 3.0"><!--[--><!--]--> Vue 3.0 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">React <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/react" class="sidebar-item" aria-label="总结"><!--[--><!--]--> 总结 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/react_hooks.html" class="sidebar-item" aria-label="React Hooks"><!--[--><!--]--> React Hooks <!--[--><!--]--></a><!----></li><li><a href="/fe/react/react_around.html" class="sidebar-item" aria-label="React Around"><!--[--><!--]--> React Around <!--[--><!--]--></a><!----></li><li><a href="/fe/react/react_native.html" class="sidebar-item" aria-label="React Native"><!--[--><!--]--> React Native <!--[--><!--]--></a><!----></li><li><a href="/fe/react/typescript.html" class="sidebar-item" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a><!----></li><li><a href="/fe/react/build_mini_react.html" class="sidebar-item" aria-label="构建你自己的 React 框架"><!--[--><!--]--> 构建你自己的 React 框架 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">CSS <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/css" class="sidebar-item" aria-label="Summary"><!--[--><!--]--> Summary <!--[--><!--]--></a><!----></li><li><a href="/fe/css/BFC.html" class="sidebar-item" aria-label="BFC、IFC和清除浮动"><!--[--><!--]--> BFC、IFC和清除浮动 <!--[--><!--]--></a><!----></li><li><a href="/fe/css/flex_grid.html" class="sidebar-item" aria-label="flex和grid"><!--[--><!--]--> flex和grid <!--[--><!--]--></a><!----></li><li><a href="/fe/css/onepx.html" class="sidebar-item" aria-label="1px及相关概念"><!--[--><!--]--> 1px及相关概念 <!--[--><!--]--></a><!----></li><li><a href="/fe/css/demo.html" class="sidebar-item" aria-label="demo"><!--[--><!--]--> demo <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Dom <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/dom" class="sidebar-item" aria-label="Summary"><!--[--><!--]--> Summary <!--[--><!--]--></a><!----></li><li><a href="/fe/dom/safety.html" class="sidebar-item" aria-label="安全"><!--[--><!--]--> 安全 <!--[--><!--]--></a><!----></li><li><a href="/fe/dom/canvas.html" class="sidebar-item" aria-label="canvas"><!--[--><!--]--> canvas <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">webpack <span class="down arrow"></span></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fe/webpack" class="router-link-active sidebar-item" aria-label="Summary"><!--[--><!--]--> Summary <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/webpack5.html" class="sidebar-item" aria-label="Webpack5"><!--[--><!--]--> Webpack5 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/buildAndModuleFederation.html" class="sidebar-item" aria-label="打包原理和Module federation"><!--[--><!--]--> 打包原理和Module federation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fe/webpack/vite2.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Vite"><!--[--><!--]--> Vite <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">frameWork <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fe/frameWork" class="sidebar-item" aria-label="框架汇总"><!--[--><!--]--> 框架汇总 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/microservices.html" class="sidebar-item" aria-label="微前端"><!--[--><!--]--> 微前端 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/mobile.html" class="sidebar-item" aria-label="移动端"><!--[--><!--]--> 移动端 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/miniprogram.html" class="sidebar-item" aria-label="小程序"><!--[--><!--]--> 小程序 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/ssr.html" class="sidebar-item" aria-label="服务器渲染"><!--[--><!--]--> 服务器渲染 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/network.html" class="sidebar-item" aria-label="网络相关"><!--[--><!--]--> 网络相关 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/http.html" class="sidebar-item" aria-label="HTTP 协议总结"><!--[--><!--]--> HTTP 协议总结 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/https.html" class="sidebar-item" aria-label="HTTPS 协议总结"><!--[--><!--]--> HTTPS 协议总结 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/websocket.html" class="sidebar-item" aria-label="websocket"><!--[--><!--]--> websocket <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/performance.html" class="sidebar-item" aria-label="前端性能优化"><!--[--><!--]--> 前端性能优化 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/component_library_design.html" class="sidebar-item" aria-label="组件库设计"><!--[--><!--]--> 组件库设计 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/test.html" class="sidebar-item" aria-label="测试"><!--[--><!--]--> 测试 <!--[--><!--]--></a><!----></li><li><a href="/fe/frameWork/thought.html" class="sidebar-item" aria-label="想法和总结"><!--[--><!--]--> 想法和总结 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><p>webpack慢：</p><ol><li>随着项目大小增长，项目冷启动时间指数增长：因为需要递归的处理识别模块生成依赖图，并且代码拆分异步应用，也需要一次生成所有路由下的编译后文件。</li><li>热更新时间也会随着项目大小增大而增长： Webpack 的热更新会以当前修改的文件为入口重新 build 打包，所有涉及到的依赖也都会被重新加载一次。</li></ol><h3 id="为什么-webpack-这么慢" tabindex="-1"><a class="header-anchor" href="#为什么-webpack-这么慢" aria-hidden="true">#</a> 为什么 Webpack 这么慢</h3><p>本质上，webpack 是一个现代 JavaScript 应用程序的静态模块打包器（module bundler）。</p><p>运行启动命令的时候，webpack 总是需要从入口文件去索引整个项目的文件，编译成一个或多个单独的 js 文件，<strong>即使采用了代码拆分，也需要一次生成所有路由下的编译后文件</strong>（这也是为什么代码拆分对开发模式性能没有帮助）。这也导致了服务启动时间随着项目复杂度而指数增长</p><p>webpack打包过程</p><ol><li>识别入口文件</li><li>通过逐层识别模块依赖。（Commonjs、amd或者es6的import，webpack都会对其进行分析。来获取代码的依赖）</li><li>webpack做的就是分析代码。转换代码，编译代码，输出代码</li><li>最终形成打包后的代码</li></ol><p>webpack打包原理</p><ol><li>先逐级递归识别依赖，构建依赖图谱</li><li>将代码转化成AST抽象语法树</li><li>在AST阶段中去处理代码</li><li>把AST抽象语法树变成浏览器可以识别的代码， 然后输出</li></ol><p>重点:需要<strong>递归识别依赖，构建依赖图谱</strong>。</p><p><img src="/assets/webpack_bundle_server.7a42fcea.png" alt=""></p><p><strong>Webpack 的热更新会以当前修改的文件为入口重新 build 打包，所有涉及到的依赖也都会被重新加载一次。</strong></p><h2 id="vite" tabindex="-1"><a class="header-anchor" href="#vite" aria-hidden="true">#</a> vite</h2><p>基于<code>esbuild</code>与<code>Rollup</code>，依靠浏览器自身ESM编译功能， 实现极致开发体验的新一代构建工具</p><h3 id="vite特点" tabindex="-1"><a class="header-anchor" href="#vite特点" aria-hidden="true">#</a> vite特点</h3><ol><li>快速的冷启动</li><li>即时的模块热更新</li><li>真正的按需编译</li></ol><p><img src="/assets/vite2.e82e6368.png" alt=""></p><h3 id="原理" tabindex="-1"><a class="header-anchor" href="#原理" aria-hidden="true">#</a> 原理</h3><ul><li><a href="https://juejin.cn/post/6931618997251080200" target="_blank" rel="noopener noreferrer">文章<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>当声明一个 script 标签类型为 module 时如：</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/src/main.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>浏览器就会像服务器发起一个GET请求<code>http://localhost:3000/src/main.js</code>请求main.js文件：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// /src/main.js:</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>浏览器请求到了main.js文件，检测到内部含有import引入的包，又会对其内部的 import 引用发起 HTTP 请求获取模块的内容文件</p><p>如：GET http://localhost:3000/@modules/vue.js</p><p>如：GET http://localhost:3000/src/App.vue</p><p>Vite 的主要功能就是通过劫持浏览器的这些请求，并在后端进行相应的处理将项目中使用的文件通过简单的分解与整合，然后再返回给浏览器，vite整个过程中没有对文件进行打包编译，所以其运行速度比原始的webpack开发编译速度快出许多</p><h4 id="依赖预构建与缓存" tabindex="-1"><a class="header-anchor" href="#依赖预构建与缓存" aria-hidden="true">#</a> 依赖预构建与缓存</h4><p>原生 ES 引入不支持下面这样的裸模块导入：</p><p>上面的操作将在浏览器中抛出一个错误。Vite 将在服务的所有源文件中检测此类裸模块导入，并执行以下操作:</p><ol><li><strong>预构建</strong> 他们以提升页面重载速度，并将 CommonJS / UMD 转换为 ESM 格式。预构建这一步由 esbuild 执行，这使得 Vite 的冷启动时间比任何基于 javascript 的打包程序都要快得多。</li></ol><p>在<strong>开发阶段</strong>中， Vite 的开发服务器将所有的代码都视为原生 ES 模块，所以需要在预构建阶段先将作为 CommonJS 或 UMD 发布的依赖项转换为 ESM。</p><p>Vite将带有许多内部模块的ESM依赖转换为单个模块，以提高后续页面加载性能（降低请求数量），比如 lodash-es 有超过 600 个内置模块，一次性发送 600 多个 http 请求，就算是采用了 HTTP2 也是不可接受的，大量的网络请求在浏览器端会造成网络拥塞，导致页面的加载速度相当慢，通过预构建 lodash-es 成为一个模块，就只需要一个 HTTP 请求了！</p><p>预构建完依赖项之后，再使用 <code>es-module-lexer + magic-string</code> 进行轻量级裸模块导入语句的重写。因为并没有进行完整的 AST 遍历，所以速度非常快，对于大多数文件来说这个时间都小于 1ms</p><ol start="2"><li><p><strong>重写导入为合法的 URL</strong>，例如 /node_modules/.vite/my-dep.js?v=f3sf2ebd 以便浏览器能够正确导入它们。</p></li><li><p>Vite 会将预构建的依赖缓存到 node_modules/.vite 路径下，可以看到文件名后跟着一串随机字符串，使用http强缓存策略，<code>Cache-Control</code> 属性被写为了： <code>max-age=31536000,immutable</code></p></li></ol><h4 id="esbuild转换文件" tabindex="-1"><a class="header-anchor" href="#esbuild转换文件" aria-hidden="true">#</a> esbuild转换文件</h4><p>包括将 CommonJS / UMD 转换为 ESM 格式，转换ts, tsc文件等</p><ol><li>使用 Go 编写，并且编译成了机器码</li><li>大量使用并行算法</li><li>esbuild 的所有内容都是从零编写的</li><li>更有效利用内存</li></ol><h4 id="模块热重载" tabindex="-1"><a class="header-anchor" href="#模块热重载" aria-hidden="true">#</a> 模块热重载</h4><p>Vite 提供了一套原生 ESM 的 <code>HMR API</code>。 具有 HMR 功能的框架可以利用该 API 提供即时、准确的更新，而无需重新加载页面或删除应用程序状态。Vite 提供了第一优先级的 HMR 集成给 <code>Vue 单文件组件（SFC）</code> 和 <code>React Fast Refresh</code>。</p><ol><li><p>在 Vite 中，HMR 是在原生 ESM 上执行的。当编辑一个文件时，Vite 只需要精确地使已编辑的模块与其最近的 HMR 边界之间的链失效（大多数时候只需要模块本身），使 HMR 更新始终快速，无论应用的大小。</p></li><li><p>Vite 同时利用 HTTP 头来加速整个页面的重新加载（再次让浏览器为我们做更多事情）：源码模块的请求会根据 304 Not Modified 进行协商缓存，而依赖模块请求则会通过 Cache-Control: max-age=31536000,immutable 进行强缓存，因此一旦被缓存它们将不需要再次请求。</p></li></ol><ul><li><a href="https://mp.weixin.qq.com/s/oroQSMSPxtSEfnjuxu2pew" target="_blank" rel="noopener noreferrer">Vite（原理源码解析）<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/qinsong77/qinsong77.github.io/edit/main/fe/webpack/vite2.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xyqinsong@163.com">notend</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: qinsong01@huohua.cn">qinsong01</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/fe/webpack/buildAndModuleFederation.html" class="" aria-label="打包原理和Module federation"><!--[--><!--]--> 打包原理和Module federation <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.552fc8bd.js" defer></script>
  </body>
</html>
